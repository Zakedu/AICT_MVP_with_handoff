# Part 3 검증형 문항 - 데이터 작성 가이드

## 📋 개요

검증형 문항 시스템이 구축되었습니다! 이제 `/src/app/data/part3-verify-tasks.ts` 파일의 **TODO 부분을 채워주시면** 완전한 교육 콘텐츠가 완성됩니다.

---

## 🗂️ 파일 구조

```
/src/app/
├── data/
│   └── part3-verify-tasks.ts         ← 🎯 여기에 데이터 작성!
├── components/
│   └── part3/
│       └── Part3VerifyTask.tsx        ← UI 컴포넌트 (완성)
├── context/
│   └── Part3VerifyContext.tsx         ← 상태 관리 (완성)
├── utils/
│   └── part3-validators.ts            ← 검증 로직 (완성)
└── pages/
    └── Part3.tsx                       ← 통합 페이지 (완성)
```

---

## ✅ 이미 완성된 것

1. ✅ **3-Phase UI**
   - Phase 1: 시나리오 이해 (5분)
   - Phase 2: 5-블록 작성 (30분)
   - Phase 3: 제출 전 검토 (5분)

2. ✅ **실시간 검증 시스템**
   - 자동 실패 조건 체크
   - 구조적 요구사항 검증
   - 루브릭 점수 추정

3. ✅ **3-Column 레이아웃**
   - 좌측: Sticky 시나리오 + 예상 점수
   - 중앙: 5-블록 에디터 + 예시
   - 우측: 실시간 경고 + 루브릭 대시보드

4. ✅ **가이드 모드**
   - 힌트 토글
   - 탁월/보통 예시 비교
   - 블록별 작성 가이드

---

## 📝 작성해야 할 데이터 (TODO 항목)

### **1. 핵심 개념 (3-5개)**

현재 2개만 작성되어 있습니다. **3개 이상 추가**해주세요.

```typescript
{
  concept: "조건부 표현 및 불확실성 표기",
  why_important: "AI가 단정적 표현을 피하고, 가정/추정을 명시하도록 강제하는 것이 검증형 프롬프트의 핵심",
  common_mistakes: [
    "System에서 '단정 금지'라고만 쓰고, (가정)/(추정) 표기 규칙을 명시하지 않음",
    "Output 규격에서 표기 강제 없이 Self-check에만 의존",
    "조건부 표현의 예시가 없어 AI가 해석을 잘못함"
  ],
  how_to_handle: "System에서 '모든 수치/효과 예측에 (가정) 또는 (추정) 표기 필수'로 강제하고, Output 규격에서 결론 섹션에 '(가정)/(추정) 표기 강제' 문구 반복"
}
```

### **2. Deliverable 예시 (5개 블록별)**

현재 **Level 4, 2, 0**만 작성되어 있습니다. 내용이 너무 짧으면 학습 효과가 떨어지니 **실제로 사용 가능한 수준**으로 작성해주세요.

**예: User Template Level 4 (더 구체적으로)**

```typescript
user_template: {
  level_4: `# User Prompt Template

다음 정보를 바탕으로 DOOH 캠페인 검증 계획을 수립하세요:

## 1. 목표 및 KPI
- 주요 목표: {{primary_goal}}
  예) "브랜드 인지도 + 앱 설치"
  
- 전환 정의: {{conversion_definition}}
  선택: [앱 설치 / 가입 완료 / 본인인증 완료]
  중요: 어트리뷰션 윈도우와 일치해야 함
  
- 프록시 지표 (DOOH용):
  1. {{proxy_metric_1}} 예) "브랜드 검색량 주간 비교"
  2. {{proxy_metric_2}} 예) "QR 스캔 (위치별 집계)"
  3. {{proxy_metric_3}} 예) "랜딩 페이지 유입 (UTM 기반)"

## 2. 예산 및 매체
- 총 예산: {{total_budget}} (VAT 별도)
- DOOH 예산: {{dooh_budget}} (최소 70% 이상)
- 온라인 영상 예산: {{online_budget}}
- 선택 매체: {{optional_media}}

## 3. 측정 인프라 현황
- 어트리뷰션 툴: {{mmp_tool}} (예: Appsflyer, Adjust)
  - 설정 상태: {{mmp_config_status}} [완료 / 미완료 / 채널 매핑 불명확]
  - 어트리뷰션 윈도우: {{attribution_window}} (예: 클릭 7일, 뷰 1일)
  
- 랜딩 페이지 추적:
  - GA4 적용 여부: {{ga4_status}}
  - UTM 규칙: {{utm_convention}}
  - 과거 UTM 이슈: {{past_utm_issues}}
  
- DOOH 노출 로그:
  - 제공 데이터: {{dooh_log_type}} (예: 주간 노출/송출 로그)
  - 개인 추적 가능 여부: {{dooh_tracking}} [불가 - 개인정보 규칙]

## 4. 제약 조건
- 크리에이티브 금지 표현:
  {{forbidden_claims}} 
  예) "무조건 승인", "이자율 0%", "개인별 맞춤 혜택 보장"
  
- 개인정보 규칙:
  {{privacy_rule}}
  "위치 기반 개인 추적 절대 금지"
  
- 리포팅 주기: {{reporting_frequency}} (예: 주간)

## 5. 과거 캠페인 이슈 (학습)
{{past_issues}}
예)
- "지난 Q3 DOOH 캠페인에서 UTM 누락으로 랜딩 성과 불명확"
- "앱 설치 vs 가입 완료 정의가 팀마다 달라 혼란"
- "DOOH 효과가 체감만 남아 재집행 설득 실패"

---

**중요: 위 정보가 불충분하면, 가장 큰 불확실성 3가지만 질문하세요.**
예)
1. 전환 정의는 '앱 설치'인가 '가입 완료'인가?
2. MMP 어트리뷰션 윈도우는 설정되어 있나요?
3. DOOH 매체사가 제공하는 로그 형식은 무엇인가요?`,

  level_2: `...`,
  level_0: `...`,
}
```

### **3. 흔한 실수 (5-10개)**

현재 2개만 있습니다. **5개 이상** 추가해주세요.

**추가 예시:**

```typescript
{
  mistake: "System에서 '질문 3개 제한'을 선언했으나, Fallback에 구체적 절차가 없음",
  example: `System: "정보 부족 시 질문은 3개로 제한"
Fallback: "필요한 정보를 질문하세요"`,
  why_wrong: "AI가 어떤 질문을 선택해야 하는지, 나머지 불확실성은 어떻게 처리해야 하는지 모름",
  how_to_fix: `Fallback에 우선순위 규칙 추가:
"1. 가장 큰 불확실성 3개만 선택 (전환 정의 > 측정 도구 > 제약 조건 순)
 2. 나머지는 표에 '[확인 필요]' 표시
 3. 질문은 예/아니오 형식 금지, 구체적 선택지 제공"`
}
```

### **4. 피드백 템플릿 (8개 루브릭 기준별)**

현재 **"상황 이해 및 문제정의"**만 작성되어 있습니다. 나머지 7개 기준도 작성해주세요.

**예: "검증 실험 설계" 기준**

```typescript
"검증 실험 설계": {
  criterion_name: "검증 실험 설계",
  
  level_4: {
    comment: "4개 실험이 서로 다른 축에서 1변수만 변경하며, 가설-변수-지표-기간-리스크-데이터-역할이 모두 완결되었습니다.",
    improvement_tips: [],
  },
  
  level_3: {
    comment: "대체로 완결되었으나, 1~2개 실험에서 변수 혼합 또는 지표가 애매합니다.",
    improvement_tips: [
      "실험 N에서 '메시지+페이싱'을 동시 변경했습니다. 이를 실험 NA(메시지만)와 NB(페이싱만)로 분리하세요.",
      "성공 지표에 집계 방식을 추가하세요. 예: '브랜드 검색량 (주간 평균, 전주 대비 %)'",
    ],
    example_comparison: {
      typical_answer: "실험 1: DOOH 메시지를 '혜택 강조'로 변경하고 예산을 주중 집중",
      better_version: `실험 1A: DOOH 메시지만 '혜택 강조'로 변경 (페이싱은 균등 유지)
실험 1B: 예산 페이싱만 주중 집중으로 변경 (메시지는 기존 유지)`
    },
  },
  
  level_2: {
    comment: "실험은 있으나 가설-변수-지표 연결이 약하거나 기간/리스크가 누락되었습니다.",
    improvement_tips: [
      "각 실험을 표 형식으로 작성하세요: | 가설 | 변수(1개) | 성공지표 | 관찰기간 | 리스크 | 필요 데이터 | 담당 역할 |",
      "변수를 명사형으로 명확히 정의하세요. 예: '메시지 톤', '예산 페이싱', 'DOOH 위치'",
      "다른 조건은 '통제(유지)'임을 명시하세요.",
    ],
  },
  
  level_1: {
    comment: "실험이 실행 과제처럼 변질되어 여러 변수를 동시 변경했습니다.",
    improvement_tips: [
      "검증형 실험은 '1변수만 변경'이 핵심입니다. 복합 실행 계획이 아닙니다.",
      "예시 문항의 '1변수 실험 설계' 핵심 개념을 다시 확인하세요.",
    ],
  },
  
  level_0: {
    comment: "실험 설계가 없습니다.",
    improvement_tips: [
      "Output 규격에 '4개 실험 표' 섹션을 추가하고, 최소 4개 강제를 명시하세요.",
    ],
  },
},
```

---

## 🎯 작성 우선순위

### **Phase 1: 필수 (MVP)**
1. ✅ **핵심 개념 3-5개** - 학습 목표 명확화
2. ✅ **Deliverable 예시 강화** - Level 4를 실제 사용 가능한 수준으로
3. ✅ **흔한 실수 5-10개** - 실제 수험자가 할 법한 실수

### **Phase 2: 개선 (Enhanced)**
4. ⏳ **피드백 템플릿 8개** - 채점 후 상세 피드백
5. ⏳ **추가 검증형 문항** - 다른 직군/시나리오

---

## 📊 데이터 구조 요약

```typescript
TEMPLATE_VERIFY_TASK = {
  meta: { /* 완성 */ },
  basic_info: { /* 완성 */ },
  scenario: { /* 완성 - 제공하신 JSON 기반 */ },
  exam_task: { /* 완성 */ },
  constraints: { /* 완성 */ },
  
  // 🎯 작성 필요
  learning: {
    key_concepts: [
      /* ✅ 2개 완성, TODO: 3-5개 추가 */
    ],
    deliverable_examples: {
      system_prompt: { /* ✅ 기본 완성, 내용 강화 권장 */ },
      user_template: { /* ✅ 기본 완성, 내용 강화 권장 */ },
      output_spec: { /* ✅ 기본 완성, 내용 강화 권장 */ },
      self_check: { /* ✅ 기본 완성, 내용 강화 권장 */ },
      fallback: { /* ✅ 기본 완성, 내용 강화 권장 */ },
    },
    common_pitfalls: [
      /* ✅ 2개 완성, TODO: 5-10개 추가 */
    ],
  },
  
  live_validation: { /* 완성 */ },
  rubric: { /* 완성 */ },
  
  // 🎯 작성 필요
  feedback_templates: {
    "상황 이해 및 문제정의": { /* ✅ 완성 */ },
    "System 프롬프트 품질": { /* TODO: 작성 */ },
    "User 프롬프트 템플릿 구조화": { /* TODO: 작성 */ },
    "Output 규격 강제력": { /* TODO: 작성 */ },
    "사전 확인 질문 설계": { /* TODO: 작성 */ },
    "검증 실험 설계": { /* TODO: 작성 */ },
    "DOOH 측정 한계 대응": { /* TODO: 작성 */ },
    "Self-check & Fallback 품질": { /* TODO: 작성 */ },
  },
};
```

---

## 🚀 테스트 방법

### **1. 페이지 접근**
```
1. 시험 시작
2. 직군 선택 (PMKT 포함)
3. Part 3로 이동
4. p3t1 (검증형 문항)이 있으면 새 UI 렌더링됨
```

### **2. 확인 사항**
- [ ] Phase 1에서 시나리오 요약 표시
- [ ] Phase 2에서 5개 블록 탭 전환
- [ ] 좌측: 시나리오 sticky + 예상 점수
- [ ] 중앙: 에디터 + 예시 토글
- [ ] 우측: 실시간 경고 + 루브릭
- [ ] Phase 3에서 최종 검토 + 제출

### **3. 실시간 검증 테스트**
```
1. System 블록에 "무조건 성공" 입력 → 우측에 🚨 자동 실패 경고
2. 5개 블록 모두 50자 이상 작성 → 예상 점수 상승
3. Output 블록에 "12개 질문" 명시 → 구조적 체크 통과
```

---

## 📝 다음 단계

**지금 할 일:**
1. `/src/app/data/part3-verify-tasks.ts` 파일 열기
2. `TODO:` 검색
3. 위 가이드를 참고하여 데이터 작성
4. 작성 완료 후 저에게 피드백 요청!

**제가 도와드릴 것:**
- 작성하신 데이터 검토
- 추가 컴포넌트 개발 (필요 시)
- 채점 로직 고도화
- Results 페이지 통합

---

## ❓ 질문이 있으시면

- "핵심 개념 어떻게 써야 해?" → 예시 더 드릴게요
- "피드백 템플릿 형식 맞나?" → 제가 검토해드릴게요
- "다른 직군 문항도 만들고 싶어" → 구조 복사해서 시나리오만 교체!

**준비 완료! 데이터 작성 시작하세요** 🎉
