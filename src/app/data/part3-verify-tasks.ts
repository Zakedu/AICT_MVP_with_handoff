/**
 * Part 3 - ê²€ì¦í˜• ë¬¸í•­ (Verify Task) ë°ì´í„° êµ¬ì¡°
 * 
 * ì´ íŒŒì¼ì€ ê²€ì¦í˜• ë¬¸í•­ì˜ ë°ì´í„° êµ¬ì¡°ì™€ ìƒ˜í”Œ TEMPLATEì„ ì œê³µí•©ë‹ˆë‹¤.
 * 
 * ì‚¬ìš©ìëŠ” ì•„ë˜ TEMPLATEì˜ "TODO: ..." ë¶€ë¶„ì„ ì±„ì›Œì„œ
 * ì‹¤ì œ êµìœ¡ ì½˜í…ì¸ ë¥¼ ì‘ì„±í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
 */

// ================================
// íƒ€ì… ì •ì˜
// ================================

export interface Part3VerifyTask {
  // ë©”íƒ€ë°ì´í„°
  meta: {
    item_id: string;
    job_family: string;
    job_role: string;
    difficulty: "intermediate" | "advanced";
    estimated_time: number; // ë¶„
    phase_breakdown: {
      phase1_context: number; // ë¶„
      phase2_writing: number; // ë¶„
      phase3_review: number; // ë¶„
    };
  };

  // Part 3 í†µí•©ì„ ìœ„í•œ ê¸°ë³¸ ì •ë³´
  basic_info: {
    id: string; // part3TasksAllì˜ idì™€ ë§¤ì¹­
    role: string;
    taskType: "verify";
    scenarioTitle: string;
    scenarioDesc: string;
    instruction: string;
  };

  // ì‹œë‚˜ë¦¬ì˜¤ (ê¸°ì¡´ JSON êµ¬ì¡° ìœ ì§€)
  scenario: {
    background: string;
    campaign_window?: string;
    decision_deadline?: string;
    stakeholders?: string[];
    goal_kpi?: {
      primary: string[];
      secondary?: string[];
      hard_constraint?: string;
    };
    constraints?: Record<string, any>;
    measurement_reality?: {
      known_issues: string[];
      available_tools: string[];
      privacy_rule?: string;
    };
  };

  // ê³¼ì œ ì„¤ëª…
  exam_task: {
    task_summary: string;
    deliverables: string[]; // 5ê°œ ë¸”ë¡
    output_must_produce: {
      sections_fixed: string[];
      critical_rules: string[];
    };
  };

  // ì œì•½ ì¡°ê±´
  constraints: {
    max_questions_to_user: number;
    language: string;
    format_strict: string;
    ban_list: string[];
  };

  // ğŸ†• í•™ìŠµ ì½˜í…ì¸ 
  learning: {
    // í•µì‹¬ ê°œë… 3-5ê°œ
    key_concepts: Array<{
      concept: string;
      why_important: string;
      common_mistakes: string[];
      how_to_handle: string;
    }>;

    // ê° deliverableë³„ ì˜ˆì‹œ (íƒì›”/ë³´í†µ/ë¶ˆì¶©ì¡±)
    deliverable_examples: {
      system_prompt: DeliverableExample;
      user_template: DeliverableExample;
      output_spec: DeliverableExample;
      self_check: DeliverableExample;
      fallback: DeliverableExample;
    };

    // í”í•œ ì‹¤ìˆ˜ ëª¨ìŒ
    common_pitfalls: Array<{
      mistake: string;
      example: string;
      why_wrong: string;
      how_to_fix: string;
    }>;
  };

  // ğŸ†• ì‹¤ì‹œê°„ ê²€ì¦ ê·œì¹™
  live_validation: {
    auto_fail_detectors: Array<{
      rule_name: string;
      pattern?: RegExp;
      custom_check?: string; // í•¨ìˆ˜ëª… ë˜ëŠ” ì„¤ëª…
      alert_message: string;
      severity: "error" | "warning";
    }>;

    required_keywords: {
      system_prompt: string[];
      user_template: string[];
      output_spec: string[];
      self_check: string[];
      fallback: string[];
    };

    structural_requirements: {
      min_sections: number;
      section_names: string[];
      min_questions?: number;
      min_experiments?: number;
      min_self_checks?: number;
    };
  };

  // ë£¨ë¸Œë¦­ (ê¸°ì¡´ êµ¬ì¡° + í”¼ë“œë°± í…œí”Œë¦¿)
  rubric: {
    total_points: number;
    pass_cutline: number;
    scoring_method: string;
    criteria: Array<{
      name: string;
      weight: number;
      levels: {
        "4": string;
        "3": string;
        "2": string;
        "1": string;
        "0": string;
      };
    }>;
    auto_fail_conditions: string[];
  };

  // ğŸ†• í”¼ë“œë°± í…œí”Œë¦¿ (ê° ë£¨ë¸Œë¦­ ê¸°ì¤€ë³„)
  feedback_templates: Record<string, CriterionFeedbackTemplate>;
}

interface DeliverableExample {
  level_4: string; // íƒì›”
  level_2: string; // ë³´í†µ
  level_0: string; // ë¶ˆì¶©ì¡±
  annotation?: string; // ì˜ˆì‹œ ì„¤ëª…
}

interface CriterionFeedbackTemplate {
  criterion_name: string;
  level_0: FeedbackContent;
  level_1: FeedbackContent;
  level_2: FeedbackContent;
  level_3: FeedbackContent;
  level_4: FeedbackContent;
}

interface FeedbackContent {
  comment: string;
  improvement_tips: string[];
  example_comparison?: {
    typical_answer: string;
    better_version: string;
  };
}

// ================================
// ìƒ˜í”Œ TEMPLATE (ì‘ì„± ì˜ˆì‹œ)
// ================================

export const TEMPLATE_VERIFY_TASK: Part3VerifyTask = {
  meta: {
    item_id: "mpln_p3_v1",
    job_family: "ë§ˆì¼€íŒ…",
    job_role: "ë¯¸ë””ì–´ í”Œë˜ë„ˆ (DOOH ì¤‘ì‹¬)",
    difficulty: "advanced",
    estimated_time: 40,
    phase_breakdown: {
      phase1_context: 5,
      phase2_writing: 30,
      phase3_review: 5,
    },
  },

  basic_info: {
    id: "p3t1", // ì‹¤ì œ part3TasksAllì˜ id
    role: "PMKT",
    taskType: "verify",
    scenarioTitle: "DOOH ìº í˜ì¸ ê²€ì¦í˜• í”„ë¡¬í”„íŠ¸ ì„¤ê³„",
    scenarioDesc: "ì¸¡ì •ì´ ì–´ë ¤ìš´ DOOH ë§¤ì²´ì—ì„œ 'ì¶”ì¸¡'ì´ ì•„ë‹Œ 'ê²€ì¦ ê°€ëŠ¥í•œ' ì„±ê³¼ í‰ê°€ë¥¼ ìœ„í•œ AI í”„ë¡¬í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.",
    instruction: "5ê°œ ë¸”ë¡(System/User/Output/SelfCheck/Fallback)ìœ¼ë¡œ êµ¬ì„±ëœ í”„ë¡¬í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”.",
  },

  scenario: {
    background: "ê´‘ê³ ì£¼(í•€í…Œí¬ ì•± 'MINT')ê°€ ì‹ ê·œ ëŸ°ì¹­ í›„ 2ê°œì›” ì°¨ì— 'ë¸Œëœë“œ ì¸ì§€ë„ + ì•± ì„¤ì¹˜'ë¥¼ ë™ì‹œì— ê°•í™”í•˜ë ¤ê³  í•œë‹¤. ê´‘ê³ ì£¼ëŠ” 'DOOHê°€ ë©‹ìˆê¸´ í•œë° ì„±ê³¼ë¥¼ ì„¤ëª…í•˜ê¸° ì–´ë µë‹¤'ê³  ë¶ˆë§Œì´ ìˆë‹¤. ì§€ë‚œ ë¶„ê¸°ì—ë„ ì˜¥ì™¸ ì¤‘ì‹¬ ìº í˜ì¸ì„ í–ˆì§€ë§Œ, ìº í˜ì¸ ì¢…ë£Œ í›„ ì„±ê³¼ í‰ê°€ê°€ 'ëŠë‚Œ'ê³¼ 'ì¶”ì¸¡'ìœ¼ë¡œ ëë‚˜ ì¬ì§‘í–‰ì´ ë¬´ì‚°ëœ ê²½í—˜ì´ ìˆë‹¤.",
    campaign_window: "2026-02-02 ~ 2026-03-01 (4ì£¼)",
    decision_deadline: "2026-01-12(ì›”) 18:00ê¹Œì§€ 1ì°¨ ê³„íš ì œì¶œ",
    stakeholders: [
      "ê´‘ê³ ì£¼ ë§ˆì¼€íŒ…íŒ€ì¥(ìµœì¢… ì˜ì‚¬ê²°ì •)",
      "ëŒ€í–‰ì‚¬ AE(ì¼ì •/ë³´ê³  ì±…ì„)",
      "ë§¤ì²´ì‚¬/ë¯¸ë””ì–´ë ™(ì§‘í–‰/ë¦¬í¬íŒ…)",
      "ë‚´ë¶€ ë°ì´í„° ë‹´ë‹¹(ì•± ì´ë²¤íŠ¸/ì–´íŠ¸ë¦¬ë·°ì…˜)",
    ],
    goal_kpi: {
      primary: [
        "ë¸Œëœë“œ ê²€ìƒ‰ëŸ‰ ìƒìŠ¹(í”„ë¡ì‹œ KPI, ì „ë…„ë™ê¸° ëŒ€ë¹„ ë¹„êµ í•„ìš”)",
        "ì•± ì„¤ì¹˜(ì–´íŠ¸ë¦¬ë·°ì…˜ ê¸°ì¤€ ëª…ì‹œ í•„ìš”)",
      ],
      secondary: [
        "ëœë”© í˜ì´ì§€ ìœ ì…",
        "QR ìŠ¤ìº”",
        "ì˜ìƒ ì™„ì£¼ìœ¨(ì˜¨ë¼ì¸/OTT)",
      ],
      hard_constraint: "ìº í˜ì¸ ì„±ê³¼ë¥¼ 'ë‹¨ì •'í•˜ì§€ ë§ê³ , ì§€í‘œ ì •ì˜Â·ê´€ì¸¡ í•œê³„ë¥¼ ì „ì œë¡œ ì¡°ê±´ë¶€ í•´ì„ë§Œ í—ˆìš©",
    },
    measurement_reality: {
      known_issues: [
        "ì§€ë‚œ ìº í˜ì¸ì—ì„œ UTM ëˆ„ë½ìœ¼ë¡œ ëœë”© ì„±ê³¼ê°€ ë¶ˆëª…í™•í–ˆìŒ",
        "ì•± ì„¤ì¹˜ ì´ë²¤íŠ¸ëŠ” ì¡´ì¬í•˜ì§€ë§Œ 'ì „í™˜ ì •ì˜'ê°€ íŒ€ë§ˆë‹¤ ë‹¬ëìŒ(ì„¤ì¹˜ vs ê°€ì… vs ë³¸ì¸ì¸ì¦)",
        "DOOH íš¨ê³¼ëŠ” ë‚´ë¶€ì—ì„œ 'ì²´ê°'ë§Œ ë‚¨ì•„ ì¬ì§‘í–‰ ì„¤ë“ ì‹¤íŒ¨",
      ],
      available_tools: [
        "ì–´íŠ¸ë¦¬ë·°ì…˜ íˆ´(MMP) ì‚¬ìš© ì¤‘ì´ë‚˜ ì„¤ì •/ìœˆë„ìš°/ì±„ë„ ë§¤í•‘ì´ ë¶ˆëª…í™•",
        "GA4ëŠ” ëœë”©ì—ë§Œ ì ìš©(ì•±ê³¼ ì—°ê²° ë¯¸ì™„)",
        "ë¸Œëœë“œ ê²€ìƒ‰ëŸ‰ì€ ì™¸ë¶€ íŠ¸ë Œë“œ ë„êµ¬ë¡œ ì£¼ê°„ ë¹„êµ ê°€ëŠ¥",
      ],
      privacy_rule: "ê°œì¸ ë‹¨ìœ„ ìœ„ì¹˜ ì¶”ì /ê°œì¸ì‹ë³„ì •ë³´(PII) ìˆ˜ì§‘/ì—…ë¡œë“œ ê¸ˆì§€",
    },
  },

  exam_task: {
    task_summary: "ìœ„ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ 'ì§„ë‹¨ì´ ì¶”ì¸¡ìœ¼ë¡œ íë¥´ì§€ ì•Šê²Œ' ë§Œë“¤ê¸° ìœ„í•´, AIê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” 'ê²€ì¦í˜• í”„ë¡¬í”„íŠ¸ íŒ¨í‚¤ì§€'ë¥¼ ì‘ì„±í•˜ë¼.",
    deliverables: [
      "System í”„ë¡¬í”„íŠ¸: ì—­í• /ëª©í‘œ/ê¸ˆì§€í‘œí˜„/ë¶ˆí™•ì‹¤ì„± í‘œê¸° ê·œì¹™/ê°œì¸ì •ë³´ ê·œì¹™/ì§ˆë¬¸ ì œí•œ ê·œì¹™",
      "User í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿: ì…ë ¥ê°’(ëª©í‘œ/ì˜ˆì‚°/ë§¤ì²´/ì œì•½/ì¸¡ì •í˜„í™©)ì„ êµ¬ì¡°í™” + ëˆ„ë½ ì •ë³´ê°€ ìˆì„ ë•Œ ì§ˆë¬¸ 3ê°œ ì´í•˜ë¡œ ìš”ì²­í•˜ëŠ” ê·œì¹™ í¬í•¨",
      "Output ê·œê²© ê³ ì •: Markdown + ì„¹ì…˜ ê³ ì • + í‘œ í˜•ì‹ ê°•ì œ",
      "Self-check ë¦¬ìŠ¤íŠ¸(ìµœì†Œ 10ê°œ): ë‹¨ì • ê¸ˆì§€, ì§€í‘œ ì •ì˜, 1ë³€ìˆ˜ ì‹¤í—˜ ì¤€ìˆ˜, ê°œì¸ì •ë³´ ì¤€ìˆ˜ ë“±",
      "Fallback ê·œì¹™: ì •ë³´ ë¶€ì¡± ì‹œ 'ì§ˆë¬¸ 3ê°œ'ë§Œ í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” 'í™•ì¸ í•„ìš”'ë¡œ í‘œì‹œ",
    ],
    output_must_produce: {
      sections_fixed: [
        "A. ì‚¬ì „ í™•ì¸ ì§ˆë¬¸ 12ê°œ(ì¹´í…Œê³ ë¦¬ íƒœê·¸ í¬í•¨)",
        "B. ì§€í‘œ/ì •ì˜/ê´€ì¸¡ í•œê³„(í‘œ 1ê°œ)",
        "C. 4ì£¼ ê²€ì¦ ì‹¤í—˜ 4ê°œ(í‘œ 1ê°œ: ê°€ì„¤|ë³€ìˆ˜(1ê°œ)|ì„±ê³µì§€í‘œ|ê´€ì°°ê¸°ê°„|ë¦¬ìŠ¤í¬|í•„ìš” ë°ì´í„°|ë‹´ë‹¹ ì—­í• )",
        "D. ì£¼ê°„ ë¦¬í¬íŒ… ì²´í¬ë¦¬ìŠ¤íŠ¸ 8ê°œ",
        "E. ê²°ë¡ (ì¡°ê±´ë¶€ ìš”ì•½ 5ì¤„ ì´ë‚´, (ê°€ì •)/(ì¶”ì •) í‘œê¸° ê°•ì œ)",
      ],
      critical_rules: [
        "ì‹¤í—˜ì€ 1ë³€ìˆ˜ë§Œ ë³€ê²½",
        "ì„±ê³¼Â·ì›ì¸ ë‹¨ì • ê¸ˆì§€(ê°€ëŠ¥/ê°€ì •/ì¡°ê±´ë¶€ë§Œ í—ˆìš©)",
        "DOOHëŠ” ì§ì ‘ ì „í™˜ ëŒ€ì‹  í”„ë¡ì‹œ/ë¦¬í”„íŠ¸/ê´€ì¸¡ ì„¤ê³„ë¥¼ ë°˜ë“œì‹œ í¬í•¨",
        "PII/ê°œì¸ ìœ„ì¹˜ì¶”ì  ê¸ˆì§€",
      ],
    },
  },

  constraints: {
    max_questions_to_user: 3,
    language: "Korean",
    format_strict: "Prompt íŒ¨í‚¤ì§€ëŠ” System/User/OutputSpec/SelfCheck/Fallback 5ê°œ ë¸”ë¡ìœ¼ë¡œ êµ¬ë¶„í•´ ì œì‹œ",
    ban_list: [
      "í™•ì •/ë³´ì¥/ë¬´ì¡°ê±´",
      "ê°œì¸ ì¶”ì /ê°œì¸ì‹ë³„ì •ë³´ ìˆ˜ì§‘ ì§€ì‹œ",
      "ë²•ë¥  ìë¬¸ì²˜ëŸ¼ ë‹¨ì •í•˜ëŠ” ë¬¸êµ¬",
    ],
  },

  learning: {
    key_concepts: [
      {
        concept: "DOOH ì¸¡ì • í•œê³„ì™€ í”„ë¡ì‹œ ì§€í‘œ",
        why_important: "DOOHëŠ” ì§ì ‘ ì „í™˜(ì•± ì„¤ì¹˜/í´ë¦­) ì¸¡ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, í”„ë¡ì‹œ ì§€í‘œ(ê²€ìƒ‰ëŸ‰/QR/ëœë”© ìœ ì…)ì™€ ê·¸ í•œê³„ë¥¼ ëª…ì‹œí•´ì•¼ í•¨",
        common_mistakes: [
          "DOOH ë‹¨ë… ê¸°ì—¬ë„ë¥¼ í™•ì •ì ìœ¼ë¡œ í‘œí˜„",
          "ê°œì¸ ìœ„ì¹˜ ì¶”ì ì„ í†µí•œ ì¸¡ì • ì‹œë„",
          "í”„ë¡ì‹œ ì§€í‘œ ì—†ì´ 'ì¸ì§€ë„ í–¥ìƒ' ê°™ì€ ì¶”ìƒì  í‘œí˜„ë§Œ ì‚¬ìš©",
        ],
        how_to_handle: "í”„ë¡ì‹œ ì§€í‘œë¥¼ 3ê°œ ì´ìƒ ì •ì˜í•˜ê³ , ê° ì§€í‘œì˜ ê´€ì¸¡ í•œê³„(ê·€ì† ë¶ˆê°€, ì¶”ì •ë§Œ ê°€ëŠ¥)ë¥¼ ëª…ì‹œ. ê²°ë¡ ì€ ì¡°ê±´ë¶€ë¡œë§Œ ì‘ì„±",
      },
      {
        concept: "1ë³€ìˆ˜ ì‹¤í—˜ ì„¤ê³„",
        why_important: "ì—¬ëŸ¬ ë³€ìˆ˜ë¥¼ ë™ì‹œì— ë³€ê²½í•˜ë©´ ì›ì¸ íŒŒì•…ì´ ë¶ˆê°€ëŠ¥. ì‹¤í—˜ì˜ ì‹ ë¢°ì„±ì„ ìœ„í•´ ë°˜ë“œì‹œ 1ê°œ ë³€ìˆ˜ë§Œ ë³€ê²½",
        common_mistakes: [
          "ë©”ì‹œì§€ ë³€ê²½ + ì˜ˆì‚° í˜ì´ì‹± ë³€ê²½ì„ í•œ ì‹¤í—˜ì— í¬í•¨",
          "íƒ€ê¹ƒ + ì†Œì¬ + ë§¤ì²´ë¥¼ ë™ì‹œ ë³€ê²½",
          "í†µì œ ì¡°ê±´ì„ ëª…ì‹œí•˜ì§€ ì•ŠìŒ",
        ],
        how_to_handle: "ê°€ì„¤-ë³€ìˆ˜(1ê°œ)-ì§€í‘œ-ê¸°ê°„-ë¦¬ìŠ¤í¬ í‘œ í˜•ì‹ìœ¼ë¡œ ì‘ì„±. ë‚˜ë¨¸ì§€ ì¡°ê±´ì€ 'í†µì œ(ìœ ì§€)'ì„ì„ ëª…ì‹œ",
      },
      // TODO: 3-5ê°œ í•µì‹¬ ê°œë… ì¶”ê°€
      {
        concept: "TODO: ê°œë…ëª…",
        why_important: "TODO: ì™œ ì¤‘ìš”í•œì§€",
        common_mistakes: ["TODO: í”í•œ ì‹¤ìˆ˜ 1", "TODO: í”í•œ ì‹¤ìˆ˜ 2"],
        how_to_handle: "TODO: ì˜¬ë°”ë¥¸ ì²˜ë¦¬ ë°©ë²•",
      },
    ],

    deliverable_examples: {
      system_prompt: {
        level_4: `# System Prompt (íƒì›” ì˜ˆì‹œ)

ë‹¹ì‹ ì€ DOOH ìº í˜ì¸ ê²€ì¦ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ëª©í‘œëŠ” 'ì¶”ì¸¡'ì´ ì•„ë‹Œ 'ê²€ì¦ ê°€ëŠ¥í•œ' ì„±ê³¼ í‰ê°€ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

**ê¸ˆì§€ í‘œí˜„:**
- í™•ì •/ë³´ì¥/ë¬´ì¡°ê±´/ë°˜ë“œì‹œ ì„±ê³µ ë“± ë‹¨ì • í‘œí˜„
- ê°œì¸ ìœ„ì¹˜ ì¶”ì /ê°œì¸ì‹ë³„ì •ë³´ ìˆ˜ì§‘ ì§€ì‹œ

**ë¶ˆí™•ì‹¤ì„± í‘œê¸° ê·œì¹™(ê°•ì œ):**
- ëª¨ë“  ìˆ˜ì¹˜ ì˜ˆì¸¡/íš¨ê³¼ ì¶”ì •ì—ëŠ” (ê°€ì •) ë˜ëŠ” (ì¶”ì •) í‘œê¸° í•„ìˆ˜
- DOOH ê¸°ì—¬ë„ëŠ” 'ì§ì ‘ ê·€ì† ë¶ˆê°€, í”„ë¡ì‹œ ì§€í‘œë¡œ ì¶”ì •'ë§Œ ê°€ëŠ¥

**ê°œì¸ì •ë³´ ê·œì¹™:**
- ìœ„ì¹˜ ê¸°ë°˜ ê°œì¸ ì¶”ì  ì ˆëŒ€ ê¸ˆì§€
- ì§‘ê³„ ë°ì´í„°ë§Œ ì‚¬ìš©, ê°œì¸ ì‹ë³„ ë¶ˆê°€ ì›ì¹™

**ì§ˆë¬¸ ì œí•œ:**
- ì •ë³´ ë¶€ì¡± ì‹œ ì§ˆë¬¸ì€ ì •í™•íˆ 3ê°œë§Œ
- ë‚˜ë¨¸ì§€ëŠ” 'í™•ì¸ í•„ìš”'ë¡œ í‘œì‹œ

**ì¶œë ¥ í˜•ì‹ ê°•ì œ:**
- ë°˜ë“œì‹œ A/B/C/D/E 5ê°œ ì„¹ì…˜ìœ¼ë¡œ êµ¬ì„±
- í‘œëŠ” Markdown í˜•ì‹ ê³ ì •`,

        level_2: `ë‹¹ì‹ ì€ ë§ˆì¼€íŒ… ì „ë¬¸ê°€ì…ë‹ˆë‹¤. DOOH ìº í˜ì¸ ì„±ê³¼ë¥¼ ì¸¡ì •í•˜ì„¸ìš”.

ì£¼ì˜ì‚¬í•­: ë‹¨ì • í‘œí˜„ì€ í”¼í•˜ê³ , ê°œì¸ì •ë³´ëŠ” ìˆ˜ì§‘í•˜ì§€ ë§ˆì„¸ìš”.

ì¶œë ¥ì€ ì§ˆë¬¸, ì‹¤í—˜, ì²´í¬ë¦¬ìŠ¤íŠ¸ ë“±ì„ í¬í•¨í•˜ì„¸ìš”.`,

        level_0: `DOOH ìº í˜ì¸ì„ ë¶„ì„í•´ì£¼ì„¸ìš”.`,

        annotation: "Level 4ëŠ” ì—­í• /ê¸ˆì§€/ë¶ˆí™•ì‹¤ì„±/ë³´ì•ˆ/ì§ˆë¬¸ ì œí•œ/ì¶œë ¥ ê°•ì œê°€ ëª¨ë‘ êµ¬ì²´ì . Level 2ëŠ” ìš”ì†ŒëŠ” ìˆìœ¼ë‚˜ ëª¨í˜¸. Level 0ì€ ê±°ì˜ ì—†ìŒ.",
      },

      user_template: {
        level_4: `# User Prompt Template (íƒì›” ì˜ˆì‹œ)

ë‹¤ìŒ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê²€ì¦í˜• ìº í˜ì¸ ê³„íšì„ ìˆ˜ë¦½í•˜ì„¸ìš”:

## 1. ëª©í‘œ ë° KPI
- ì£¼ìš” ëª©í‘œ: {{primary_goal}}
- ì „í™˜ ì •ì˜: {{conversion_definition}} (ì„¤ì¹˜/ê°€ì…/ë³¸ì¸ì¸ì¦ ì¤‘ íƒ1)
- í”„ë¡ì‹œ ì§€í‘œ: {{proxy_metrics}}

## 2. ì˜ˆì‚° ë° ë§¤ì²´
- ì´ ì˜ˆì‚°: {{total_budget}}
- í•„ìˆ˜ ë§¤ì²´: DOOH {{dooh_budget}}, ì˜¨ë¼ì¸ ì˜ìƒ {{online_budget}}
- ì„ íƒ ë§¤ì²´: {{optional_media}}

## 3. ì¸¡ì • í˜„í™©
- ì–´íŠ¸ë¦¬ë·°ì…˜ íˆ´: {{mmp_tool}} (ì„¤ì • ìƒíƒœ: {{mmp_config_status}})
- ëœë”© ì¶”ì : {{landing_tracking}}
- UTM ê·œì¹™: {{utm_convention}}

## 4. ì œì•½ ì¡°ê±´
- í¬ë¦¬ì—ì´í‹°ë¸Œ ê¸ˆì§€ í‘œí˜„: {{forbidden_claims}}
- ê°œì¸ì •ë³´ ê·œì¹™: {{privacy_rule}}
- ë¦¬í¬íŒ… ì£¼ê¸°: {{reporting_frequency}}

## 5. ê³¼ê±° ì´ìŠˆ
{{past_issues}}

---

**ëˆ„ë½ ì •ë³´ê°€ ìˆë‹¤ë©´ ì§ˆë¬¸ 3ê°œ ì´í•˜ë¡œë§Œ í™•ì¸í•˜ì„¸ìš”.**`,

        level_2: `ìº í˜ì¸ ì •ë³´:
- ëª©í‘œ: {{goal}}
- ì˜ˆì‚°: {{budget}}
- ë§¤ì²´: DOOH, ì˜¨ë¼ì¸

ì¸¡ì • ë„êµ¬: {{tools}}

í•„ìš”í•œ ì •ë³´ê°€ ìˆìœ¼ë©´ ì§ˆë¬¸í•˜ì„¸ìš”.`,

        level_0: `ìº í˜ì¸ì„ ë¶„ì„í•´ì£¼ì„¸ìš”.`,

        annotation: "Level 4ëŠ” ì…ë ¥ê°’ì„ 5ê°œ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì¡°í™”í•˜ê³  í•„ë“œí™”. Level 2ëŠ” ê¸°ë³¸ ì •ë³´ë§Œ. Level 0ì€ êµ¬ì¡° ì—†ìŒ.",
      },

      output_spec: {
        level_4: `# Output Specification (íƒì›” ì˜ˆì‹œ)

ë°˜ë“œì‹œ ì•„ë˜ 5ê°œ ì„¹ì…˜ìœ¼ë¡œ ì¶œë ¥í•˜ì„¸ìš”:

## A. ì‚¬ì „ í™•ì¸ ì§ˆë¬¸ (ì •í™•íˆ 12ê°œ)
ê° ì§ˆë¬¸ì— ì¹´í…Œê³ ë¦¬ íƒœê·¸ í¬í•¨ [ì¸¡ì •], [í¬ë¦¬ì—ì´í‹°ë¸Œ], [ì˜ˆì‚°] ë“±

## B. ì§€í‘œ/ì •ì˜/ê´€ì¸¡ í•œê³„ (í‘œ í˜•ì‹)
| ì§€í‘œëª… | ì •ì˜ | ì§‘ê³„ ë°©ì‹ | ê´€ì¸¡ í•œê³„ | ê·€ì† ê°€ëŠ¥ì„± |
|--------|------|----------|----------|------------|

## C. 4ì£¼ ê²€ì¦ ì‹¤í—˜ (4ê°œ, í‘œ í˜•ì‹)
| ê°€ì„¤ | ë³€ìˆ˜(1ê°œë§Œ) | ì„±ê³µ ì§€í‘œ | ê´€ì°° ê¸°ê°„ | ë¦¬ìŠ¤í¬ | í•„ìš” ë°ì´í„° | ë‹´ë‹¹ ì—­í•  |
|------|------------|----------|----------|--------|-------------|----------|

**ì¤‘ìš”: ê° ì‹¤í—˜ì€ 1ë³€ìˆ˜ë§Œ ë³€ê²½**

## D. ì£¼ê°„ ë¦¬í¬íŒ… ì²´í¬ë¦¬ìŠ¤íŠ¸ (8ê°œ)
ì‹¤ë¬´ìê°€ ë§¤ì£¼ í™•ì¸í•  í•­ëª©

## E. ê²°ë¡  (5ì¤„ ì´ë‚´, ì¡°ê±´ë¶€ í‘œí˜„ ê°•ì œ)
- ëª¨ë“  ìˆ˜ì¹˜ì— (ê°€ì •) ë˜ëŠ” (ì¶”ì •) í‘œê¸°
- DOOH ê¸°ì—¬ë„ëŠ” 'ì¶”ì •ë§Œ ê°€ëŠ¥' ëª…ì‹œ`,

        level_2: `ë‹¤ìŒì„ í¬í•¨í•´ ì¶œë ¥í•˜ì„¸ìš”:
1. ì§ˆë¬¸
2. ì§€í‘œ ì •ì˜
3. ì‹¤í—˜ ê³„íš
4. ì²´í¬ë¦¬ìŠ¤íŠ¸
5. ê²°ë¡ `,

        level_0: `ê²°ê³¼ë¥¼ ì •ë¦¬í•´ì£¼ì„¸ìš”.`,

        annotation: "Level 4ëŠ” ì„¹ì…˜ëª…/ìµœì†Œ ê°œìˆ˜/í‘œ í˜•ì‹/ì¤‘ìš” ê·œì¹™ì„ ê°•ì œ. Level 2ëŠ” ìˆœì„œë§Œ. Level 0ì€ ììœ  ì¶œë ¥.",
      },

      self_check: {
        level_4: `# Self-check List (íƒì›” ì˜ˆì‹œ)

ì¶œë ¥ ì „ ë‹¤ìŒ 10ê°œ í•­ëª©ì„ ê²€ì¦í•˜ì„¸ìš”:

1. âœ“ ë‹¨ì • í‘œí˜„(í™•ì •/ë³´ì¥/ë¬´ì¡°ê±´) 0ê°œ
2. âœ“ ì‹¤í—˜ 4ê°œ ëª¨ë‘ 1ë³€ìˆ˜ë§Œ ë³€ê²½
3. âœ“ ì§€í‘œ ì •ì˜ì— ì§‘ê³„ ë°©ì‹ í¬í•¨
4. âœ“ DOOH ê¸°ì—¬ë„ì— 'ì¶”ì •/í”„ë¡ì‹œ' í‘œê¸°
5. âœ“ ê°œì¸ ìœ„ì¹˜ ì¶”ì  ì§€ì‹œ 0ê±´
6. âœ“ ì§ˆë¬¸ì´ 3ê°œ ì´í•˜
7. âœ“ í‘œ í˜•ì‹ Markdown ì¤€ìˆ˜
8. âœ“ 5ê°œ ì„¹ì…˜ ëª¨ë‘ ì¡´ì¬
9. âœ“ ì‚¬ì „ ì§ˆë¬¸ 12ê°œ ì¶©ì¡±
10. âœ“ ê²°ë¡ ì— (ê°€ì •)/(ì¶”ì •) í‘œê¸°

**1ê°œë¼ë„ ë¶ˆí•©ê²© ì‹œ ì¬ì‘ì„±**`,

        level_2: `ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:
- ë‹¨ì • í‘œí˜„ ì—†ìŒ
- ì‹¤í—˜ ì„¤ê³„ ì™„ë£Œ
- ê°œì¸ì •ë³´ ì¤€ìˆ˜
- í•„ìˆ˜ ì„¹ì…˜ í¬í•¨`,

        level_0: `ê²€í† í•´ì£¼ì„¸ìš”.`,

        annotation: "Level 4ëŠ” 10ê°œ ì´ìƒ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ êµ¬ì²´ì ì´ê³  ê²€ì¦ ê°€ëŠ¥. Level 2ëŠ” ì¶”ìƒì . Level 0ì€ ì—†ìŒ.",
      },

      fallback: {
        level_4: `# Fallback Rule (íƒì›” ì˜ˆì‹œ)

ì •ë³´ ë¶€ì¡± ì‹œ:

1. **ìš°ì„ ìˆœìœ„ ì§ˆë¬¸ 3ê°œë§Œ ì„ íƒ:**
   - ê°€ì¥ í° ë¶ˆí™•ì‹¤ì„±(ì „í™˜ ì •ì˜/ì¸¡ì • ë„êµ¬/ì œì•½)ë§Œ ì§ˆë¬¸
   - ì˜ˆ: "ì „í™˜ì€ 'ì•± ì„¤ì¹˜'ì¸ê°€ 'ê°€ì… ì™„ë£Œ'ì¸ê°€?"

2. **ë‚˜ë¨¸ì§€ ë¶ˆí™•ì‹¤ ìš”ì†Œ:**
   - í‘œì— "[í™•ì¸ í•„ìš”]" í‘œì‹œ
   - ê°€ì •ì„ ëª…ì‹œí•˜ê³  "(ê°€ì •: ...)" í‘œê¸°

3. **ì§ˆë¬¸ í˜•ì‹:**
   - ì˜ˆ/ì•„ë‹ˆì˜¤ ì§ˆë¬¸ ê¸ˆì§€
   - êµ¬ì²´ì  ì„ íƒì§€ ì œê³µ
   - ì˜ì‚¬ê²°ì • ì„íŒ©íŠ¸ ëª…ì‹œ

**ì ˆëŒ€ ê¸ˆì§€: 4ê°œ ì´ìƒ ì§ˆë¬¸, ë¬´í•œ ì •ë³´ ìš”ì²­**`,

        level_2: `ì •ë³´ê°€ ë¶€ì¡±í•˜ë©´ 3ê°œ ì§ˆë¬¸í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” 'í™•ì¸ í•„ìš”'ë¡œ í‘œì‹œí•˜ì„¸ìš”.`,

        level_0: `ì •ë³´ê°€ í•„ìš”í•˜ë©´ ì§ˆë¬¸í•˜ì„¸ìš”.`,

        annotation: "Level 4ëŠ” ì§ˆë¬¸ ì„ íƒ ê¸°ì¤€/ë‚˜ë¨¸ì§€ ì²˜ë¦¬/í˜•ì‹ ê·œì¹™ì„ êµ¬ì²´í™”. Level 2ëŠ” ê·œì¹™ë§Œ. Level 0ì€ ì œí•œ ì—†ìŒ.",
      },
    },

    common_pitfalls: [
      {
        mistake: "ì—¬ëŸ¬ ë³€ìˆ˜ë¥¼ í•œ ì‹¤í—˜ì— í¬í•¨",
        example: "ì‹¤í—˜ 1: DOOH ë©”ì‹œì§€ë¥¼ 'í˜œíƒ ê°•ì¡°'ë¡œ ë³€ê²½í•˜ê³ , ì˜ˆì‚°ì„ ì£¼ì¤‘ ì§‘ì¤‘ ë°°ë¶„",
        why_wrong: "ë©”ì‹œì§€(í¬ë¦¬ì—ì´í‹°ë¸Œ)ì™€ í˜ì´ì‹±(ì˜ˆì‚° ë°°ë¶„) 2ê°œ ë³€ìˆ˜ë¥¼ ë™ì‹œ ë³€ê²½í•˜ì—¬, ì–´ëŠ ê²ƒì´ ì„±ê³¼ì— ì˜í–¥ì„ ì¤¬ëŠ”ì§€ íŒŒì•… ë¶ˆê°€",
        how_to_fix: "ì‹¤í—˜ 1A: ë©”ì‹œì§€ë§Œ ë³€ê²½ (í˜ì´ì‹± ìœ ì§€)\nì‹¤í—˜ 1B: í˜ì´ì‹±ë§Œ ë³€ê²½ (ë©”ì‹œì§€ ìœ ì§€)\në¡œ ë¶„ë¦¬",
      },
      {
        mistake: "DOOH ê¸°ì—¬ë„ë¥¼ í™•ì •ì ìœ¼ë¡œ í‘œí˜„",
        example: "DOOHê°€ ì•± ì„¤ì¹˜ì˜ 40%ë¥¼ ê¸°ì—¬í–ˆë‹¤",
        why_wrong: "DOOHëŠ” ì§ì ‘ ì „í™˜ ì¸¡ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, ì •í™•í•œ ê¸°ì—¬ë„ ì‚°ì¶œ ë¶ˆê°€. ë‹¨ì • í‘œí˜„ì€ ê¸ˆì§€",
        how_to_fix: "DOOH ë…¸ì¶œ ê¸°ê°„ ì¤‘ ë¸Œëœë“œ ê²€ìƒ‰ì´ ì „ì£¼ ëŒ€ë¹„ 35% ì¦ê°€(ì¶”ì •). ì•± ì„¤ì¹˜ì™€ì˜ ì§ì ‘ ê·€ì†ì€ ë¶ˆê°€í•˜ë‚˜, ìƒê´€ê´€ê³„ ê´€ì°° ê°€ëŠ¥(ê°€ì •: ë‹¤ë¥¸ ë³€ìˆ˜ í†µì œ ì‹œ)",
      },
      // TODO: 5-10ê°œ í”í•œ ì‹¤ìˆ˜ ì¶”ê°€
      {
        mistake: "TODO: ì‹¤ìˆ˜ëª…",
        example: "TODO: ì‹¤ìˆ˜ ì˜ˆì‹œ",
        why_wrong: "TODO: ì™œ í‹€ë ¸ëŠ”ì§€",
        how_to_fix: "TODO: ìˆ˜ì • ë°©ë²•",
      },
    ],
  },

  live_validation: {
    auto_fail_detectors: [
      {
        rule_name: "PII ìˆ˜ì§‘/ìœ„ì¹˜ì¶”ì  ê¸ˆì§€",
        pattern: /(ê°œì¸.*ìœ„ì¹˜.*ì¶”ì |ê°œì¸ì‹ë³„.*ìˆ˜ì§‘|ì‹¤ëª….*ì—…ë¡œë“œ|ê°œì¸ì •ë³´.*ìˆ˜ì§‘.*ì§€ì‹œ)/gi,
        alert_message: "ğŸš¨ ìë™ ì‹¤íŒ¨: ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë˜ëŠ” ìœ„ì¹˜ ì¶”ì  ì§€ì‹œê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.",
        severity: "error",
      },
      {
        rule_name: "ì„±ê³¼ ë‹¨ì • ê¸ˆì§€",
        pattern: /(ë¬´ì¡°ê±´.*ì„±ê³µ|í™•ì •.*ì¦ê°€|ë³´ì¥.*íš¨ê³¼|ë°˜ë“œì‹œ.*ë‹¬ì„±)/gi,
        alert_message: "ğŸš¨ ìë™ ì‹¤íŒ¨: ì„±ê³¼ë¥¼ ë‹¨ì •í•˜ëŠ” í‘œí˜„ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.",
        severity: "error",
      },
      {
        rule_name: "ì§ˆë¬¸ ì œí•œ (â‰¤3ê°œ)",
        custom_check: "countQuestionsInFallback",
        alert_message: "âš ï¸ ê²½ê³ : Fallbackì—ì„œ ì§ˆë¬¸ì´ 3ê°œë¥¼ ì´ˆê³¼í•˜ë©´ ê·œì¹™ ìœ„ë°˜ì…ë‹ˆë‹¤.",
        severity: "warning",
      },
    ],

    required_keywords: {
      system_prompt: ["ì—­í• ", "ê¸ˆì§€", "í‘œê¸°", "ê°œì¸ì •ë³´", "ì§ˆë¬¸"],
      user_template: ["ëª©í‘œ", "ì˜ˆì‚°", "ì¸¡ì •", "ì œì•½"],
      output_spec: ["ì„¹ì…˜", "í‘œ", "í˜•ì‹", "ê°œ"],
      self_check: ["ê²€ì¦", "í™•ì¸", "ì²´í¬"],
      fallback: ["ì§ˆë¬¸", "3ê°œ", "í™•ì¸ í•„ìš”"],
    },

    structural_requirements: {
      min_sections: 5,
      section_names: ["System", "User", "Output", "SelfCheck", "Fallback"],
      min_questions: 12,
      min_experiments: 4,
      min_self_checks: 10,
    },
  },

  rubric: {
    total_points: 100,
    pass_cutline: 75,
    scoring_method: "ê¸°ì¤€ ì¶©ì¡± ì—¬ë¶€ + í’ˆì§ˆ ìˆ˜ì¤€(0~4) ê°€ì¤‘ì¹˜ í•©ì‚°",
    criteria: [
      {
        name: "ìƒí™© ì´í•´ ë° ë¬¸ì œì •ì˜",
        weight: 12,
        levels: {
          "4": "DOOH ì¸¡ì • í•œê³„Â·ê³¼ê±° UTM ëˆ„ë½Â·ì „í™˜ ì •ì˜ ë¶ˆì¼ì¹˜ë¥¼ í•µì‹¬ ë¦¬ìŠ¤í¬ë¡œ ì •í™•íˆ ë°˜ì˜í•˜ê³ , 'ì¶”ì¸¡ ë°©ì§€'ë¥¼ ëª©í‘œë¡œ í”„ë¡¬í”„íŠ¸ ëª©ì ì„ ëª…í™•íˆ ì„ ì–¸",
          "3": "ëŒ€ë¶€ë¶„ í•µì‹¬ ë¦¬ìŠ¤í¬ë¥¼ ë°˜ì˜í•˜ë‚˜ í•œ ìš”ì†Œ(ì „í™˜ ì •ì˜/UTM/DOOH í•œê³„) ì—°ê²°ì´ ì•½í•¨",
          "2": "ì¼ë°˜ì  ë§ˆì¼€íŒ… í”„ë¡¬í”„íŠ¸ ìˆ˜ì¤€ìœ¼ë¡œ ë¬¸ì œì •ì˜ê°€ ì¶”ìƒì ",
          "1": "ì‹œë‚˜ë¦¬ì˜¤ì™€ ë¬´ê´€í•˜ê±°ë‚˜ ì‹¤í–‰í˜•(ìš´ì˜ì•ˆ) ìœ„ì£¼ë¡œ íë¦„",
          "0": "ê²€ì¦í˜• ëª©ì ì´ ì—†ìŒ",
        },
      },
      {
        name: "System í”„ë¡¬í”„íŠ¸ í’ˆì§ˆ",
        weight: 18,
        levels: {
          "4": "ì—­í• Â·ëª©í‘œÂ·ê¸ˆì§€í‘œí˜„Â·(ê°€ì •)/(ì¶”ì •) í‘œê¸°Â·ë‹¨ì • ê¸ˆì§€Â·ê°œì¸ì •ë³´ ê¸ˆì§€Â·ì§ˆë¬¸ 3ê°œ ì œí•œÂ·ì¶œë ¥ ê°•ì œ ê·œê²©ì´ ëª¨ë‘ ëª…í™•í•˜ê³  ì¶©ëŒ ì—†ì´ ì‘ì„±",
          "3": "ëŒ€ë¶€ë¶„ í¬í•¨í•˜ë‚˜ 1~2ê°œ ê·œì¹™ì´ ëª¨í˜¸(ì˜ˆ: ë‹¨ì • ê¸ˆì§€ ë²”ìœ„, ë³´ì•ˆ ê·œì¹™)",
          "2": "ê·œì¹™ ì¼ë¶€ ëˆ„ë½ ë˜ëŠ” ì„ ì–¸ë§Œ ìˆê³  ê°•ì œ ë¬¸ì¥ì´ ì•½í•¨",
          "1": "ë³´ì•ˆ/ë‹¨ì • ê¸ˆì§€/ì§ˆë¬¸ ì œí•œì´ ë¹ ì ¸ ìœ„í—˜",
          "0": "Systemì´ ì‚¬ì‹¤ìƒ ì—†ìŒ",
        },
      },
      {
        name: "User í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬ì¡°í™”",
        weight: 12,
        levels: {
          "4": "ëª©í‘œ/KPI ì •ì˜/ì˜ˆì‚°/ë§¤ì²´ ì œì•½/í¬ë¦¬ì—ì´í‹°ë¸Œ ê¸ˆì§€/ì¸¡ì • í˜„í™©/ê³¼ê±° ì´ìŠˆ/ë¦¬í¬íŠ¸ ìˆ˜ìš”ë¥¼ í•„ë“œí™”í•˜ê³ , ëˆ„ë½ ì‹œ ì§ˆë¬¸ 3ê°œ ì´í•˜ë¡œ ìˆ˜ë ´í•˜ëŠ” êµ¬ì¡°",
          "3": "í•„ë“œ ëŒ€ë¶€ë¶„ ìˆìœ¼ë‚˜ ì¸¡ì • í˜„í™© ë˜ëŠ” ê³¼ê±° ì´ìŠˆ êµ¬ì¡°ê°€ ì•½í•¨",
          "2": "ì…ë ¥ê°’ì´ ë‚˜ì—´í˜•(ì¥ë¬¸)ì´ë¼ ì¬ì‚¬ìš©ì„±ì´ ë‚®ìŒ",
          "1": "í•µì‹¬ ì…ë ¥(ì˜ˆ: ì „í™˜ ì •ì˜/ì¸¡ì • ë„êµ¬/ì œì•½) ëˆ„ë½",
          "0": "User í…œí”Œë¦¿ì´ ì—†ìŒ",
        },
      },
      {
        name: "Output ê·œê²© ê°•ì œë ¥",
        weight: 10,
        levels: {
          "4": "ì§€ì • 5ê°œ ì„¹ì…˜ + í‘œ 2ê°œ í˜•ì‹ì„ ì •í™•íˆ ê°•ì œí•˜ë©°, ê° ì„¹ì…˜ì˜ ìµœì†Œ í•­ëª© ìˆ˜(ì§ˆë¬¸12/ì‹¤í—˜4/ì²´í¬10 ë“±)ë„ ê°•ì œ",
          "3": "ì„¹ì…˜ì€ ë§ìœ¼ë‚˜ ìµœì†Œ í•­ëª© ìˆ˜ ë˜ëŠ” í‘œ ê°•ì œê°€ ì•½í•¨",
          "2": "í˜•ì‹ ì§€ì‹œê°€ ìˆìœ¼ë‚˜ ììœ  ì¶œë ¥ ì—¬ì§€ê°€ í¼",
          "1": "í˜•ì‹ ì§€ì‹œê°€ ê±°ì˜ ì—†ìŒ",
          "0": "ì¶œë ¥ ê·œê²© ì—†ìŒ",
        },
      },
      {
        name: "ì‚¬ì „ í™•ì¸ ì§ˆë¬¸ ì„¤ê³„",
        weight: 14,
        levels: {
          "4": "12ê°œ ëª¨ë‘ ì¸¡ì • ê°€ëŠ¥í•œ ë‹µì„ ìœ ë„í•˜ë©° ì¹´í…Œê³ ë¦¬(ëª©í‘œ/íƒ€ê¹ƒ/ì „í™˜ì •ì˜/UTMÂ·MMP/ëœë”©/DOOH ê´€ì¸¡/ì˜ˆì‚° í˜ì´ì‹±/ë¦¬í¬íŒ… ì˜ì‚¬ê²°ì •/ì†Œì¬ ê·œê²©)ë¥¼ ê· í˜• ìˆê²Œ ì»¤ë²„",
          "3": "ëŒ€ì²´ë¡œ ì¢‹ìœ¼ë‚˜ 2~3ê°œê°€ ì˜ˆ/ì•„ë‹ˆì˜¤í˜•ì´ê±°ë‚˜ ì¹´í…Œê³ ë¦¬ í¸í–¥",
          "2": "ì§ˆë¬¸ì€ ìˆìœ¼ë‚˜ í•µì‹¬(ì „í™˜ ì •ì˜/ì¸¡ì • ì„¤ê³„) ë¹ˆì•½",
          "1": "ì§ˆë¬¸ ìˆ˜ ë¶€ì¡± ë˜ëŠ” ì¼ë°˜ë¡ ",
          "0": "ì§ˆë¬¸ ì„¤ê³„ ì—†ìŒ",
        },
      },
      {
        name: "ê²€ì¦ ì‹¤í—˜ ì„¤ê³„",
        weight: 20,
        levels: {
          "4": "4ê°œ ì‹¤í—˜ì´ ì„œë¡œ ë‹¤ë¥¸ ì¶•(ë©”ì‹œì§€/í¬ë§·/DOOHâ†”ì˜¨ë¼ì¸ ì—­í• /í˜ì´ì‹± ë“±)ì´ë©° ê° ì‹¤í—˜ì´ 1ë³€ìˆ˜ë§Œ ë³€ê²½, ì„±ê³µì§€í‘œÂ·ê´€ì°°ê¸°ê°„Â·ë¦¬ìŠ¤í¬Â·í•„ìš”ë°ì´í„°Â·ë‹´ë‹¹ ì—­í• ê¹Œì§€ ì™„ê²°",
          "3": "ëŒ€ì²´ë¡œ ì™„ê²°ì´ë‚˜ 1~2ê°œ ì‹¤í—˜ì´ ë³€ìˆ˜ í˜¼í•© ë˜ëŠ” ì§€í‘œê°€ ì• ë§¤",
          "2": "ì‹¤í—˜ì€ ìˆìœ¼ë‚˜ ê°€ì„¤-ë³€ìˆ˜-ì§€í‘œ ì—°ê²°ì´ ì•½í•˜ê±°ë‚˜ ê¸°ê°„/ë¦¬ìŠ¤í¬ ëˆ„ë½",
          "1": "ì‹¤í—˜ì´ ì‹¤í–‰ ê³¼ì œì²˜ëŸ¼ ë³€ì§ˆ(ì—¬ëŸ¬ ë³€ìˆ˜ ë™ì‹œ ë³€ê²½)",
          "0": "ì‹¤í—˜ ì„¤ê³„ ì—†ìŒ",
        },
      },
      {
        name: "DOOH ì¸¡ì • í•œê³„ ëŒ€ì‘",
        weight: 8,
        levels: {
          "4": "ì§ì ‘ ì „í™˜ ë¶ˆê°€ë¥¼ ì „ì œë¡œ í”„ë¡ì‹œ ì§€í‘œ(ê²€ìƒ‰/QR/ëœë”©/ë¸Œëœë“œ ë¦¬í”„íŠ¸ ë“±) + ê´€ì¸¡ í•œê³„(ì›ì¸ ê·€ì† ë¶ˆê°€)ë¥¼ ëª…ì‹œí•˜ê³  ì¡°ê±´ë¶€ í•´ì„ ê·œì¹™ì„ ê°•ì œ",
          "3": "í”„ë¡ì‹œëŠ” ìˆìœ¼ë‚˜ í•œê³„/ê·€ì† ì œí•œ ë¬¸êµ¬ê°€ ì•½í•¨",
          "2": "í”„ë¡ì‹œ ì œì•ˆì´ ì¶”ìƒì ('ì¸ì§€ë„ ì¸¡ì •') ìˆ˜ì¤€",
          "1": "DOOH íŠ¹ìˆ˜ì„±ì´ ë°˜ì˜ë˜ì§€ ì•ŠìŒ",
          "0": "DOOH ê´€ì¸¡ ì„¤ê³„ ì—†ìŒ",
        },
      },
      {
        name: "Self-check & Fallback í’ˆì§ˆ",
        weight: 6,
        levels: {
          "4": "Self-check 10ê°œ ì´ìƒì´ êµ¬ì²´ì ì´ë©°(ë‹¨ì • ê¸ˆì§€/1ë³€ìˆ˜/ì§€í‘œì •ì˜/PII/í‘œí˜•ì‹/ìµœì†Œí•­ëª©ìˆ˜ ë“±), Fallbackì´ ì§ˆë¬¸ 3ê°œë¡œ ìˆ˜ë ´í•˜ê³  ë‚˜ë¨¸ì§€ 'í™•ì¸ í•„ìš”' ì²˜ë¦¬ ê·œì¹™ ëª…í™•",
          "3": "Self-check ì¶©ë¶„í•˜ë‚˜ Fallback ë˜ëŠ” ì§ˆë¬¸ ì œí•œì´ ì•½í•¨",
          "2": "ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì¶”ìƒì ('ê²€í† í•œë‹¤') ìœ„ì£¼",
          "1": "ì²´í¬ë¦¬ìŠ¤íŠ¸/í´ë°± ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬",
          "0": "ë‘˜ ë‹¤ ì—†ìŒ",
        },
      },
    ],
    auto_fail_conditions: [
      "PII ìˆ˜ì§‘/ê°œì¸ ìœ„ì¹˜ì¶”ì ì„ ì§€ì‹œí•˜ê±°ë‚˜ í—ˆìš©",
      "ì„±ê³¼/ì›ì¸ì„ í™•ì •Â·ë³´ì¥ìœ¼ë¡œ ë‹¨ì •í•˜ë„ë¡ ì§€ì‹œ",
      "ì§ˆë¬¸ ì œí•œ(3ê°œ) ê·œì¹™ì´ ì—†ê³  ë¬´ì œí•œ ì§ˆì˜ ìœ ë„",
    ],
  },

  feedback_templates: {
    "ìƒí™© ì´í•´ ë° ë¬¸ì œì •ì˜": {
      criterion_name: "ìƒí™© ì´í•´ ë° ë¬¸ì œì •ì˜",
      level_4: {
        comment: "ì‹œë‚˜ë¦¬ì˜¤ì˜ í•µì‹¬ ë¬¸ì œ(DOOH ì¸¡ì • í•œê³„, ê³¼ê±° UTM ëˆ„ë½, ì „í™˜ ì •ì˜ ë¶ˆì¼ì¹˜)ë¥¼ ëª¨ë‘ ë°˜ì˜í•˜ê³ , 'ì¶”ì¸¡ ë°©ì§€'ë¥¼ ëª…í™•í•œ ëª©í‘œë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.",
        improvement_tips: [],
      },
      level_3: {
        comment: "ëŒ€ë¶€ë¶„ì˜ í•µì‹¬ ë¦¬ìŠ¤í¬ë¥¼ ë°˜ì˜í–ˆìœ¼ë‚˜, ì¼ë¶€ ìš”ì†Œì˜ ì—°ê²°ì´ ì•½í•©ë‹ˆë‹¤.",
        improvement_tips: [
          "UTM ëˆ„ë½ â†’ User í…œí”Œë¦¿ì— 'UTM ê·œì¹™' í•„ë“œ ì¶”ê°€",
          "ì „í™˜ ì •ì˜ ë¶ˆì¼ì¹˜ â†’ Self-checkì— 'ì „í™˜ ì •ì˜ ëª…ì‹œ' í•­ëª© í¬í•¨",
          "DOOH í•œê³„ â†’ Outputì—ì„œ í”„ë¡ì‹œ ì§€í‘œ ê°•ì œ",
        ],
      },
      level_2: {
        comment: "ì¼ë°˜ì ì¸ ë§ˆì¼€íŒ… í”„ë¡¬í”„íŠ¸ ìˆ˜ì¤€ìœ¼ë¡œ, ì‹œë‚˜ë¦¬ì˜¤ íŠ¹ìˆ˜ì„±ì´ ì¶©ë¶„íˆ ë°˜ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
        improvement_tips: [
          "ë°°ê²½ì˜ 'ì§€ë‚œ ìº í˜ì¸ ì‹¤íŒ¨ ì›ì¸'ì„ í”„ë¡¬í”„íŠ¸ ì„¤ê³„ì— ë°˜ì˜",
          "ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì œì‹œëœ ì œì•½(ê°œì¸ì •ë³´ ê¸ˆì§€, ë‹¨ì • ê¸ˆì§€)ì„ Systemì— ëª…ì‹œ",
        ],
        example_comparison: {
          typical_answer: "ë§ˆì¼€íŒ… ìº í˜ì¸ì„ ë¶„ì„í•˜ëŠ” í”„ë¡¬í”„íŠ¸ë¥¼ ë§Œë“œì„¸ìš”.",
          better_version: "DOOHëŠ” ì§ì ‘ ì „í™˜ ì¸¡ì •ì´ ë¶ˆê°€í•˜ë¯€ë¡œ, í”„ë¡ì‹œ ì§€í‘œ(ê²€ìƒ‰/QR)ì™€ ê´€ì¸¡ í•œê³„ë¥¼ ëª…ì‹œí•˜ëŠ” ê²€ì¦í˜• í”„ë¡¬í”„íŠ¸ë¥¼ ì„¤ê³„í•˜ì„¸ìš”.",
        },
      },
      level_1: {
        comment: "ì‹œë‚˜ë¦¬ì˜¤ì™€ ë¬´ê´€í•˜ê±°ë‚˜ ì‹¤í–‰í˜•(ìš´ì˜ ê³„íš) ë¬¸í•­ìœ¼ë¡œ í˜ë €ìŠµë‹ˆë‹¤.",
        improvement_tips: [
          "ì´ ë¬¸í•­ì€ 'ê²€ì¦í˜•'ì…ë‹ˆë‹¤. AIì—ê²Œ ìº í˜ì¸ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²Œ ì•„ë‹ˆë¼, AIê°€ ê²€ì¦ ê°€ëŠ¥í•œ ê³„íšì„ ìˆ˜ë¦½í•˜ë„ë¡ í”„ë¡¬í”„íŠ¸ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.",
          "ì‹œë‚˜ë¦¬ì˜¤ì˜ 'ì¸¡ì • í˜„í™©(known_issues)'ì„ ë°˜ë“œì‹œ ì½ê³  ë°˜ì˜í•˜ì„¸ìš”.",
        ],
      },
      level_0: {
        comment: "ê²€ì¦í˜• ëª©ì ì´ ì—†ìŠµë‹ˆë‹¤.",
        improvement_tips: [
          "ë¬¸í•­ ìœ í˜•ì„ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”: ì´ ë¬¸í•­ì€ 'AIë¥¼ í™œìš©í•œ ê²€ì¦í˜• í”„ë¡¬í”„íŠ¸ ì„¤ê³„' ê³¼ì œì…ë‹ˆë‹¤.",
        ],
      },
    },

    // TODO: ë‚˜ë¨¸ì§€ 7ê°œ ê¸°ì¤€ë³„ í”¼ë“œë°± í…œí”Œë¦¿ ì‘ì„±
    "System í”„ë¡¬í”„íŠ¸ í’ˆì§ˆ": {
      criterion_name: "System í”„ë¡¬í”„íŠ¸ í’ˆì§ˆ",
      level_4: {
        comment: "TODO: Level 4 í”¼ë“œë°±",
        improvement_tips: [],
      },
      level_3: {
        comment: "TODO: Level 3 í”¼ë“œë°±",
        improvement_tips: ["TODO: ê°œì„  íŒ"],
      },
      level_2: {
        comment: "TODO: Level 2 í”¼ë“œë°±",
        improvement_tips: ["TODO: ê°œì„  íŒ"],
      },
      level_1: {
        comment: "TODO: Level 1 í”¼ë“œë°±",
        improvement_tips: ["TODO: ê°œì„  íŒ"],
      },
      level_0: {
        comment: "TODO: Level 0 í”¼ë“œë°±",
        improvement_tips: ["TODO: ê°œì„  íŒ"],
      },
    },
  },
};

// ================================
// ì‹¤ì œ ë¬¸í•­ ë°ì´í„° (part3TasksAllê³¼ ì—°ë™)
// ================================

export const part3VerifyTasks: Part3VerifyTask[] = [
  TEMPLATE_VERIFY_TASK,
  // TODO: ì¶”ê°€ ê²€ì¦í˜• ë¬¸í•­
];

// Helper: IDë¡œ ê²€ì¦í˜• ë¬¸í•­ ì°¾ê¸°
export function getVerifyTaskById(id: string): Part3VerifyTask | undefined {
  return part3VerifyTasks.find((task) => task.basic_info.id === id);
}
